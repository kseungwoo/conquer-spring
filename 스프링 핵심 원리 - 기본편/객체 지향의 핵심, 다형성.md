> 인프런에서 김영한님의 [스프링 핵심 원리 - 기본편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8)을 듣고 정리하였습니다.



## 객체 지향 특징

객체 지향 특징하면 떠오르시는게 있으신가요?

- 추상화
- 캡슐화
- 상속
- 다형성

자바를 사용하는 개발자라면 너무나도 익숙한 4가지 특징이죠.



## 객체 지향 프로그래밍이란

객체 지향 프로그래밍이란 뭘까요? 형식적인 정의는 이와 같아요. 객체 지향 프로그래밍은 컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나 여러 개의 독립된 단위, 즉 '객체'들의 모임으로 파악하고자 하는 것입니다. 각각의 객체는 서로 협력하며 메시지를 주고 받고, 데이터를 처리할 수 있습니다.

객체 지향 프로그래밍은 프로그램을 유연하고 변경이 용이하게 만듭니다. 따라서 대규모 소프트웨어 개발에 많이 사용돼요.

여기서 눈 여겨 볼 키워드는 '객체들의 모임', '객체 간의 협력', '유연하고 변경에 용이' 정도가 있겠네요.

여기서 유연하고 변경에 용이하다는 것은 무슨 뜻일까요? 추상적이어서 감이 잘 안오신다구요? 더 구체적으로 설명한다면, 레고 블럭을 조립하듯이, 키보드나 마우스를 갈아 끼우듯이, 컴퓨터 부품을 교체하듯이, 컴포넌트를 쉽고 유연하게 변경하면서 개발할 수 있는 방법이라는 것을 의미합니다.



## 다형성

책에서 배운 다형성말고, 실생활의 예를 들어 다형성을 이해해봅시다.

<img src="https://user-images.githubusercontent.com/71204049/145592459-bdfee338-dbaf-48e4-aafc-b7ac5f6632fe.png" width="600" />

세상을 역할과, 그 역할을 수행하는 구현으로 규정하면 어떨까요? 여기서 역할은 인터페이스고 구현은 인터페이스를 구현한 객체입니다.

운전자와 자동차라는 역할이 있다고 해봅시다. 자동차라는 역할을 구현한 객체로 K3, 아반떼, 테슬라 모델3 등이 있겠죠. 운전자는 K3를 타다가 테슬라 모델3로 차를 변경합니다. 이 때, 자동차가 바뀌어도 운전자는 영향을 받지 않습니다. 차를 바꾼다고 운전 면허를 새로 따야할 필요는 없죠. 이는 자동차라는 역할의 인터페이스를 따라서 객체를 구현하였기 때문입니다. 그리고 운전자는 자동차 역할이라는 인터페이스에 의존합니다. 여기서 운전자를 클라이언트라고 한다면 클라이언트는 자동차의 내부 구조를 몰라도 됩니다. 구현된 객체들이 내부적으로 변경되더라도 자동차의 역할만 잘 수행된다면 클라이언트에게 영향을 주지 않습니다. 즉, 클라이언트에 영향을 주지 않고 새로운 기능을 제공할 수도 있습니다. 이는 역할과 구현으로 세상을 구분하였기 때문에 가능한 것이죠. 서버 측에서 구현 대상의 내부 구조가 변하더라도 클라이언트는 역할에 의존하므로 영향을 받지 않습니다. 클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있습니다.

## 역할과 구현을 분리

이처럼 역할과 구현으로 구분한다면 유연하며 변경에 용이합니다.

- 클라이언트는 대상의 역할(인터페이스)만 알면 됩니다.
- 클라이언트는 구현 대상의 내부 구조를 몰라도 됩니다.
- 클라이언트는 구현 대상의 내부 구조가 변경되어도 영향을 받지 않습니다.
- 클라이언트는 구현 대상 자체를 변경해도 영향을 받지 않습니다.

자바 언어에서는 다형성을 활용하여 역할과 구현을 분리합니다.

- 역할 = 인터페이스
- 구현 = 인터페이스를 구현한 클래스, 구현 객체

이를 잘 활용하기 위해서 우리는 객체를 설계할 때 역할과 구현을 명확하게 분리할 필요가 있습니다. 

또한 역할(인터페이스)을 먼저 부여하고, 그 역할을 수행하는 구현 객체를 만들면 되겠네요.



## 객체의 협력이라는 관계를 생각하자

객체들은 서로 협력 관계에 있습니다. 혼자 있는 객체는 없습니다.

- 클라이언트는 요청, 서버는 응답

수 많은 객체 클라이언트와 객체 서버는 서로 협력 관계를 가집니다.



## 자바의 다형성

자바 기본 문법인 오버라이딩(overriding)을 사용한다면 다형성으로 인터페이스를 구현한 객체를 실행 시점에 유연하게 변경할 수 있습니다. 물론 클래스 간의 상속 관계도 다형성, 오버라이딩을 적용할 수 있어요.

여기서 잠깐, 그렇다면 추상 클래스와 인터페이스의 차이점은 뭘까요? 인터페이스에 대해서는 이제 감이 잡히는데, 추상 클래스는 왜 존재하고 언제 사용하며 인터페이스와 구분되는 핵심적인 특징이 뭘까요?

### 공통점

- 인터페이스와 추상 클래스는 모두 추상 메서드를 정의하고, 구현 또는 상속하는 객체가 추상 메서드를 구현하도록 강제합니다.
- 인터페이스와 추상 클래스는 모두 인스턴스화가 불가능합니다.

### 차이점

- 추상 클래스는 원하는 만큼만 추상 메서드로 만들 수 있습니다. 일부만 추상 메서드로 만들 수도 전체를 추상 메서드로 만들 수도 있습니다.
- 자바는 다중 상속을 지원하지 않기 때문에 하나의 클래스만 상속 가능합니다. 이와 달리 구현은 여러 인터페이스에 대해서 가능합니다.

- 추상 클래스는 상속한 객체들의 공통점을 찾아 추상화시켜 놓은 것으로, 상속 관계를 타고 올라갔을 때 같은 부모 클래스를 상속하며, 부모 클래스가 가진 기능을 구현해야할 경우 사용합니다.
- 인터페이스는 구현할 객체들의 공통 기능을 찾아 추상화시켜 놓은 것으로, 상속 관계를 타고 올라갔을 때 다른 부모 클래스를 상속하며, 같은 기능을 구현해야할 경우 사용합니다.
- 상속은 재사용 + 확장(is kind of/is a: A는 B이다)의 개념이고, 인터페이스는 기능 구현(is able to / has a: A는 B를 할 수 있다)의 개념입니다.



## 정리

지금까지 배운 것들을 일목요연하게 정리해보면 이렇습니다.

- 다형성의 본질
  - 인터페이스를 구현한 객체 인스턴스를 실행 시점에서 유연하게 변경할 수 있습니다.
  - 다형성의 본질을 이해하려면 협력이라는 객체 사이에서의 관계에서 시작해야 합니다.
  - 클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있습니다.

- 역할과 구현을 분리합니다.
  - 실세계의 역할과 구현이라는 컨셉을 다형성을 통해 객체 세상으로 가져올 수 있습니다.
  - 유연하고 변경에 용이합니다.
  - 확장 가능한 설계가 가능합니다.
  - 클라이언트에 영향을 주지 않는 변경이 가능합니다.
  - 인터페이스를 안정적으로 잘 설계하는 것이 중요합니다.
- 한계
  - 역할(인터페이스) 자체가 변하면, 클라이언트, 서버 모두에 큰 변경이 발생합니다.
  - 역시 인터페이스를 안정적으로 잘 설계하는 것이 중요합니다.





## 스프링과 객체 지향

객체 지향에서 가장 중요한 다형성에 대해서 배워보았습니다. 스프링은 다형성을 극대화해서 이용할 수 있게 도와줍니다. 스프링에서 이야기하는 제어의 역전(IoC), 의존관계 주입(DI)은 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원합니다. 스프링을 사용하면 구현을 편리하게 변경할 수 있습니다.

